// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import {AirdropLevel1} from "../contracts/AirdropLevel1.sol";
import {BaseTest} from "./base/BaseTest.t.sol";

contract AirdropLevel1Test is BaseTest {
  bytes16 public constant APP_ID = 0xf4977993e52606cfd67b7a1cde717069;
  bytes16 public constant GROUP_ID = 0x682544d549b8a461d7fe3e589846bb7b;

  AirdropLevel1 public airdropLevel1;

  function setUp() public {
    airdropLevel1 = new AirdropLevel1({name: "My airdropLevel1 contract", symbol: "AIR1", appId: APP_ID, groupId: GROUP_ID});
  }

  function test_AirdropLevel1() public {

    // we register the dev tree root 
    // when we create a proof from an address that is eligible thanks to the devMode configuration
    _registerTreeRoot(0x1C812BA1895AF4571518564145855CF43819257A8072C914749D1D8BC02831C);

    // Data Vault ownership
    // Group membership of Proof of Humanity (0x682544d549b8a461d7fe3e589846bb7b)
    // signature of address 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
    bytes memory response = hex"0000000000000000000000000000000000000000000000000000000000000020f4977993e52606cfd67b7a1cde71706900000000000000000000000000000000b8e2054f8a912367e38a22ce773328ff000000000000000000000000000000007369736d6f2d636f6e6e6563742d76310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000855193bcbdbd346b423ff830b507cbf90eccc90b00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000c068796472612d73322e310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001e000000000000000000000000000000000000000000000000000000000000004c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000682544d549b8a461d7fe3e589846bb7b000000000000000000000000000000006c617465737400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002c02a4fd31c31187832d70ddfa182d32035563eee3708bc8d01f18e399aad3a229213c02742a459d879e262250a1966674b2c4d9f977553fe076a96bc925080f04e133940eefb373152610f0ee5aa1176ea56b9bd16fa308d9cea46b9b77e45a33f084ba945d7be826cc3a8bb82a8b264af92d77960911538b17c755f2901862bd21f89446eaf6c520a0f07a7c14bbec2c5bc65b8216ea8fe7ad4aa32b836a3c1911059e7ff58bb577f206ced00eda24df21e532861145f63e5a596e9be2b4249162f9867274944ef68c957a92dbc86e93415d52c6d51eefcdfb3bda1197cd829812cda96d6930f579d12269afb2a696980e988b9038ecaee69968a0db35a812b98000000000000000000000000000000000000000000000000000000000000000026a2977a33e13c362b96303e44537265af1c13a2092861d213c601264050b5122ab71fb864979b71106135acfa84afc1d756cda74f8f258896f896b4864f025630423b4c502f1cd4179a425723bf1e15c843733af2ecdee9aef6a0451ef2db7401c812ba1895af4571518564145855cf43819257a8072c914749d1d8bc02831c2595cec01ee5ca3c0353064de37babd3d2bb85ecdff9879b955a3a3221f647cc0f5b6e14789dee71c9d280807776990eb5fafb86dc5578b78e9f53a8c5e7fd670000000000000000000000000000000000000000000000000000000000000001075ca7ef8755640e675db2eb95440ac11bf9a3d480011edd783c14d81ffffffe000000000000000000000000000000000000000000000000000000000000000001b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e02c02b0c8903e5f139b466d5bc5ceda4a647c4c72486e6d61de22fc3805abdd000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000001a068796472612d73322e310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000004a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002c02bb7802d5c82d0e2b0d565c9659a544f71ad017f56814689a8d98cfeabc8eb1010c7aaaa1bbb8a7c02fd55643f55977c314820e11d02aed377f226a7642bffcc25dc59f0836508fa619cb09992780876f7cb3dbdc8c28cb6a78d1e421616164c26aab418fd2ab17243cba4024a389e7cbafdd555bf5d64977b05f341f232c7cb139b771d69079986c020b13dee777997cb0d441a8d295fe271c239d2a5a6d66b0e27430acb9dfe60d07d36788465af7811d62213c53ccb9dc8ff511b91a83eb704aa32e0e1a2aaaa32cbc000cbb1762af8d066aafdf0e8de155a86a99434c8762e6a057b08817a71262d40c626913c5855a7b1c4bd89abeb15c2a8eb00ad8412000000000000000000000000000000000000000000000000000000000000000026a2977a33e13c362b96303e44537265af1c13a2092861d213c601264050b5122ab71fb864979b71106135acfa84afc1d756cda74f8f258896f896b4864f025630423b4c502f1cd4179a425723bf1e15c843733af2ecdee9aef6a0451ef2db7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e02c02b0c8903e5f139b466d5bc5ceda4a647c4c72486e6d61de22fc3805abdd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    airdropLevel1.claimWithSismoConnect(response, 0x855193BCbdbD346B423FF830b507CBf90ecCc90B);
  }
}
