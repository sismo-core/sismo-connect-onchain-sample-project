// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import {AirdropLevel1} from "../contracts/AirdropLevel1.sol";
import {BaseTest} from "./base/BaseTest.t.sol";

contract AirdropLevel1Test is BaseTest {
  bytes16 public constant APP_ID = 0xf4977993e52606cfd67b7a1cde717069;
  bytes16 public constant GROUP_ID = 0x311ece950f9ec55757eb95f3182ae5e2;

  AirdropLevel1 public airdropLevel1;

  function setUp() public {
    airdropLevel1 = new AirdropLevel1({name: "My airdropLevel1 contract", symbol: "AIR1", appId: APP_ID, groupId: GROUP_ID});
  }

  function test_AirdropLevel1() public {

    // we register the dev tree root 
    // when we create a proof from an address that is eligible thanks to the devMode configuration
    _registerTreeRoot(0x235adcd82b2865d2c5e5a1905f36ac58f53caa4573b7ce6f7eca313712ecfc09);

    // Data Vault ownership
    // Group membership of Nouns DAO NFT Holders (0x311ece950f9ec55757eb95f3182ae5e2)
    // signature of address 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
    bytes memory response = hex"0000000000000000000000000000000000000000000000000000000000000020f4977993e52606cfd67b7a1cde71706900000000000000000000000000000000b8e2054f8a912367e38a22ce773328ff000000000000000000000000000000007369736d6f2d636f6e6e6563742d76310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c800000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000c068796472612d73322e310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001e000000000000000000000000000000000000000000000000000000000000004c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000311ece950f9ec55757eb95f3182ae5e2000000000000000000000000000000006c617465737400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002c0124765da77caeaf88e623026b3b04cd4649e998363d8a93c041f7ba10c6dc9901f08ab324b5d3648f1dc14f9ee375c81dd99b8a33498e7ab7a11b56de130814603cceb282c8bc339441720622c9fd6ec04065efa72c347d6a95a1621745dbbbb191ed5cedb3f39b04fc211473c1976da6642bd639f25677e5e11f849d7c7fae5219e2836e7ed30e8af14432bd973351fea587ee45a50d28fcf73e8b585d5cbce05b39ec4865795b954558cfb0850a7643505a6bf706533c83487dd1772e86e721948e90f3c3f44bf4270876a11df554f3d0bfa207f930d72200100fa8d4fde9a0f1097c946b42a6afe383a016cbc1ed75a14a6c758038cc7d28d914ec2df339800000000000000000000000000000000000000000000000000000000000000001c22bb924d4df7679181b00cc5891585ff0b9efac15f0f66d5d498ea4804fb712ab71fb864979b71106135acfa84afc1d756cda74f8f258896f896b4864f025630423b4c502f1cd4179a425723bf1e15c843733af2ecdee9aef6a0451ef2db74235adcd82b2865d2c5e5a1905f36ac58f53caa4573b7ce6f7eca313712ecfc090412d59e4b26962c96a5a709070aef8fdb3e7b784b93377cc2827b70353c321a1ea593fb85a7c4d7c661935aff576dca99bb0663c48a9668ae8f8e23377cad7a000000000000000000000000000000000000000000000000000000000000000100ba80222e6d252d9f9b503c96a98d85442d8c1cf9ba8f6ebc1e0a6c0fffffff000000000000000000000000000000000000000000000000000000000000000001b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e02c02b0c8903e5f139b466d5bc5ceda4a647c4c72486e6d61de22fc3805abdd000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000001a068796472612d73322e310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000004a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002c017f71a987894882167116bb1f6ee788f5330f0e2a69dc6303426549a7f49b08f1c145d78f3aa064098989d2faf424a2320b2f0e6d1156bb33dbc83742792cc2b1ad940a8a36d5b42ef9ead72ee77974ee3f55c2147663d599ba0070ff17a62a12953dd88f9f798657b3165a5a94aa8b269b4675f4505b62b6dc7a7036e3ff11415af5f3ae4cca8b9f344582cec4485a38390e664497b5b10c5d15c29b2f506ee25fa9f682ab841e42c503fc35ccd75b596f2036e4f9be011e9d4c7f408f7044e0a01ba3ca5fe83c7b4ebfa1015a3185f6a9d49df24502b039edb0a2ce1f1f9d105930e1b5efb863fdac737e7643ba1f49e697b824c217d978f2ca37e0316fee200000000000000000000000000000000000000000000000000000000000000001c22bb924d4df7679181b00cc5891585ff0b9efac15f0f66d5d498ea4804fb712ab71fb864979b71106135acfa84afc1d756cda74f8f258896f896b4864f025630423b4c502f1cd4179a425723bf1e15c843733af2ecdee9aef6a0451ef2db7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e02c02b0c8903e5f139b466d5bc5ceda4a647c4c72486e6d61de22fc3805abdd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    airdropLevel1.claimWithSismoConnect(response, 0x70997970C51812dc3A010C7d01b50e0d17dc79C8);
  }
}
