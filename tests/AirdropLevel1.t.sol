// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import {AirdropLevel1} from "../contracts/AirdropLevel1.sol";
import {BaseTest} from "./base/BaseTest.t.sol";

contract AirdropLevel1Test is BaseTest {
  bytes16 public constant APP_ID = 0xf4977993e52606cfd67b7a1cde717069;
  bytes16 public constant GROUP_ID = 0x682544d549b8a461d7fe3e589846bb7b;

  AirdropLevel1 public airdropLevel1;

  function setUp() public {
    airdropLevel1 = new AirdropLevel1({name: "My airdropLevel1 contract", symbol: "AIR1", appId: APP_ID, groupId: GROUP_ID});
  }

  function test_AirdropLevel1() public {

    // we register the dev tree root 
    // when we create a proof from an address that is eligible thanks to the devMode configuration
    _registerTreeRoot(0x1C812BA1895AF4571518564145855CF43819257A8072C914749D1D8BC02831C);

    // Data Vault ownership
    // Group membership of Proof of Humanity (0x682544d549b8a461d7fe3e589846bb7b)
    // signature of address 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
    bytes memory response = hex"0000000000000000000000000000000000000000000000000000000000000020f4977993e52606cfd67b7a1cde71706900000000000000000000000000000000b8e2054f8a912367e38a22ce773328ff000000000000000000000000000000007369736d6f2d636f6e6e6563742d76310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c800000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000c068796472612d73322e310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001e000000000000000000000000000000000000000000000000000000000000004c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000682544d549b8a461d7fe3e589846bb7b000000000000000000000000000000006c617465737400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002c00222fb1351d08feb27db237114047f2dc58ceb8d6cd28dbee5c73d3ccc3b1f622d3801676ed283df6703f5b5a2a6c6884fa81ec876aed85e642ff762e7371fa213a13b03c94547e6546e5494bd904194d6459b7de6d0c0f0b23fedab627cd1150ad726c2ca81cd69ad7ff67da26beccfeb160193b87ea1149302a43bd02653b503c9bf169a48a0bd8605904d3a762f6f771153c969e8af23ab8e5dace26c0e5826f33b9bd9a053c2f3fd58c4ca07a985466e9a90fd7fa3412300ac3f60752ccf292ed68e629519341455aa63a9d578780e81a6d58fb9951cbc1f6e62c5f10bed2cd98b23574dde558d872adaea3fc400f1c89cd89d981639da05066ab569e2f300000000000000000000000000000000000000000000000000000000000000001c22bb924d4df7679181b00cc5891585ff0b9efac15f0f66d5d498ea4804fb712ab71fb864979b71106135acfa84afc1d756cda74f8f258896f896b4864f025630423b4c502f1cd4179a425723bf1e15c843733af2ecdee9aef6a0451ef2db7401c812ba1895af4571518564145855cf43819257a8072c914749d1d8bc02831c2595cec01ee5ca3c0353064de37babd3d2bb85ecdff9879b955a3a3221f647cc0f5b6e14789dee71c9d280807776990eb5fafb86dc5578b78e9f53a8c5e7fd670000000000000000000000000000000000000000000000000000000000000001075ca7ef8755640e675db2eb95440ac11bf9a3d480011edd783c14d81ffffffe000000000000000000000000000000000000000000000000000000000000000001b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e02c02b0c8903e5f139b466d5bc5ceda4a647c4c72486e6d61de22fc3805abdd000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000001a068796472612d73322e310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000004a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002c029d28cf90b33391253925fe54ff89927325fb3c2dc6a063e48104754a30f892e237c4b86d03dbf1fdee839fb26b473f65e6c4740e4c6ffb94dbb1e10d756ac91259a0c2925b799443d6857dbf4f1991662524ac6453a6a5c9b371119119ff7e808236eb9e7342ff6748fbcd56cc734e95f142cb6967bbcd025a9c3f406b350220cc332d23f1573c60c8a660e364682d42904e59f0336492af94a5f69a9ddf329252c7346517c346f9975ea68213096eb9c2e93e572892a0caaf52bd0ca5995c62f33726e89f32f3d33319898866590d13cd824e56aa514382e10e9f7a2eea89410c4052190186911a8481f085fa2fb81a2421c4989e1acd0f23e57515f7f084d00000000000000000000000000000000000000000000000000000000000000001c22bb924d4df7679181b00cc5891585ff0b9efac15f0f66d5d498ea4804fb712ab71fb864979b71106135acfa84afc1d756cda74f8f258896f896b4864f025630423b4c502f1cd4179a425723bf1e15c843733af2ecdee9aef6a0451ef2db7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001b42aaebc220a0702a5ee7e7ccf1a58f85a7b0bfc7e9ebe6de3fc5ab562a23e02c02b0c8903e5f139b466d5bc5ceda4a647c4c72486e6d61de22fc3805abdd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    airdropLevel1.claimWithSismoConnect(response, 0x70997970C51812dc3A010C7d01b50e0d17dc79C8);
  }
}
